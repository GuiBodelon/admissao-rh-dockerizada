import{Q as rt,a as lt,b as st}from"./QLayout.ff1441e0.js";import{u as ne,c as h,i as E,v as $e,h as O,g as pe,y as Ge,s as re,r as C,w as H,t as Ze,p as Ae,a8 as ut,j as ge,J as Oe,o as te,_ as be,k as v,L as R,d as m,m as s,a9 as B,l as I,aa as D,R as P,ab as W,F as De,ac as Pe,ad as Le,P as qe,O as A,ae as fe,af as Re,K as dt,N as ct,n as Q,M as Be,ag as Z,ah as vt,ai as ft,E as mt,aj as ht,ak as pt,al as gt,am as et,a as tt,an as at,D as bt,x as $,ao as Y,ap as me,aq as ee,q as he,ar as Me,as as _t,I as yt}from"./index.2bf94b66.js";import{g as kt,s as wt}from"./scroll.ecf7d4c2.js";import{Q as Qe}from"./use-checkbox.d03c73c8.js";import{Q as Ct}from"./QToggle.ac3e2884.js";import{Q as it,a as Se,b as U,c as Ee}from"./QItemLabel.8b0fe373.js";import{Q as St,a as ot,b as xe}from"./QBadge.4e017ae4.js";import{Q as Mt}from"./QResizeObserver.e90d443f.js";import{u as xt}from"./use-quasar.99641495.js";import{u as _e}from"./app-store.dde54c31.js";import{apiBackendLaravel as nt}from"./axios.e0ae4c8c.js";import{Q as It}from"./QSpinnerOrbit.d07cbc59.js";import"./use-dark.bd89d3f8.js";import"./use-form.59da048f.js";const At={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Lt(){const{props:e,proxy:{$q:a}}=pe(),i=E(Ge,ne);if(i===ne)return console.error("QPageSticky needs to be child of QLayout"),ne;const t=h(()=>{const d=e.position;return{top:d.indexOf("top")>-1,right:d.indexOf("right")>-1,bottom:d.indexOf("bottom")>-1,left:d.indexOf("left")>-1,vertical:d==="top"||d==="bottom",horizontal:d==="left"||d==="right"}}),n=h(()=>i.header.offset),l=h(()=>i.right.offset),o=h(()=>i.footer.offset),r=h(()=>i.left.offset),u=h(()=>{let d=0,f=0;const _=t.value,g=a.lang.rtl===!0?-1:1;_.top===!0&&n.value!==0?f=`${n.value}px`:_.bottom===!0&&o.value!==0&&(f=`${-o.value}px`),_.left===!0&&r.value!==0?d=`${g*r.value}px`:_.right===!0&&l.value!==0&&(d=`${-g*l.value}px`);const b={transform:`translate(${d}, ${f})`};return e.offset&&(b.margin=`${e.offset[1]}px ${e.offset[0]}px`),_.vertical===!0?(r.value!==0&&(b[a.lang.rtl===!0?"right":"left"]=`${r.value}px`),l.value!==0&&(b[a.lang.rtl===!0?"left":"right"]=`${l.value}px`)):_.horizontal===!0&&(n.value!==0&&(b.top=`${n.value}px`),o.value!==0&&(b.bottom=`${o.value}px`)),b}),p=h(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function k(d){const f=$e(d.default);return O("div",{class:p.value,style:u.value},e.expand===!0?f:[O("div",f)])}return{$layout:i,getStickyContent:k}}var Rt=re({name:"QPageScroller",props:{...At,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{default:()=>[18,18]}},emits:["click"],setup(e,{slots:a,emit:i}){const{proxy:{$q:t}}=pe(),{$layout:n,getStickyContent:l}=Lt(),o=C(null);let r;const u=h(()=>n.height.value-(n.isContainer.value===!0?n.containerHeight.value:t.screen.height));function p(){return e.reverse===!0?u.value-n.scroll.value.position>e.scrollOffset:n.scroll.value.position>e.scrollOffset}const k=C(p());function d(){const w=p();k.value!==w&&(k.value=w)}function f(){e.reverse===!0?r===void 0&&(r=H(u,d)):_()}H(n.scroll,d),H(()=>e.reverse,f);function _(){r!==void 0&&(r(),r=void 0)}function g(w){const S=kt(n.isContainer.value===!0?o.value:n.rootRef.value);wt(S,e.reverse===!0?n.height.value:0,e.duration),i("click",w)}function b(){return k.value===!0?O("div",{ref:o,class:"q-page-scroller",onClick:g},l(a)):null}return f(),Ze(_),()=>O(Ae,{name:"q-transition--fade"},b)}}),Bt=re({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:a}){const i=h(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>O("div",{class:i.value},$e(a.default))}}),Et=re({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:a}){const i=h(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>O("div",{class:i.value,role:"toolbar"},$e(a.default))}}),$t=re({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:a,emit:i}){const{proxy:{$q:t}}=pe(),n=E(Ge,ne);if(n===ne)return console.error("QHeader needs to be child of QLayout"),ne;const l=C(parseInt(e.heightHint,10)),o=C(!0),r=h(()=>e.reveal===!0||n.view.value.indexOf("H")>-1||t.platform.is.ios&&n.isContainer.value===!0),u=h(()=>{if(e.modelValue!==!0)return 0;if(r.value===!0)return o.value===!0?l.value:0;const c=l.value-n.scroll.value.position;return c>0?c:0}),p=h(()=>e.modelValue!==!0||r.value===!0&&o.value!==!0),k=h(()=>e.modelValue===!0&&p.value===!0&&e.reveal===!0),d=h(()=>"q-header q-layout__section--marginal "+(r.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(p.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),f=h(()=>{const c=n.rows.value.top,L={};return c[0]==="l"&&n.left.space===!0&&(L[t.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),c[2]==="r"&&n.right.space===!0&&(L[t.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),L});function _(c,L){n.update("header",c,L)}function g(c,L){c.value!==L&&(c.value=L)}function b({height:c}){g(l,c),_("size",c)}function w(c){k.value===!0&&g(o,!0),i("focusin",c)}H(()=>e.modelValue,c=>{_("space",c),g(o,!0),n.animate()}),H(u,c=>{_("offset",c)}),H(()=>e.reveal,c=>{c===!1&&g(o,e.modelValue)}),H(o,c=>{n.animate(),i("reveal",c)}),H(n.scroll,c=>{e.reveal===!0&&g(o,c.direction==="up"||c.position<=e.revealOffset||c.position-c.inflectionPoint<100)});const S={};return n.instances.header=S,e.modelValue===!0&&_("size",l.value),_("space",e.modelValue),_("offset",u.value),Ze(()=>{n.instances.header===S&&(n.instances.header=void 0,_("size",0),_("offset",0),_("space",!1))}),()=>{const c=ut(a.default,[]);return e.elevated===!0&&c.push(O("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(O(Mt,{debounce:0,onResize:b})),O("header",{class:d.value,style:f.value,onFocusin:w},c)}}}),Ot=ge({name:"Notifications",setup(){const e=_e(),a=Oe(),i=a.user.id,t=a.user.permissions,n=a.user.token,l=C(a.user.notificationsVisualized),o=C([{id:"",sent_by:"",receiver_id:"",visible_to_permissions:"",title:"",message:"",button_route:"",button_label:"",created_at:new Date,updated_at:new Date}]);function r(){const d={user_id:i,user_permission:t};nt.get("/notifications",{params:d,headers:{Authorization:"Bearer "+n}}).then(f=>{o.value=f.data})}function u(){a.changeNotificationsVisualized(!0),l.value=a.user.notificationsVisualized}function p(d){const f=new Date,_=new Date(d.replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$2-$1")),g=f.getTime()-_.getTime(),b=Math.floor(g/(1e3*60*60)),w=Math.floor(b/24),S=Math.floor(g%(1e3*60*60)/(1e3*60));return b===0?`${S} min. atr\xE1s`:b<24?`${b}${b>1?" hrs ":" hr "}${S} min. atr\xE1s`:`${w}${w>1?" dias ":" dia "}${b%24}${b%24>1?" hrs ":" hr "}${S} min. atr\xE1s`}const k=h(()=>o.value.slice().reverse());return te(()=>{r()}),{userStore:a,getNotifications:r,notifications:o,reversedNotificationsArray:k,notificationsVisualized:l,visualizeNotifications:u,notificationTimeDisplay:p,isDarkActive:h(()=>e.isDarkActive)}}});const Dt={key:0},Pt={class:"col items-center justify-center q-gutter-y-sm"},Ht={class:"text-weight-bold"},Tt={class:"self-end full-width"},qt={key:1};function Qt(e,a,i,t,n,l){return v(),R("div",null,[m(qe,{icon:"fa-solid fa-bell",class:"notificationIcon",dense:"",round:"",flat:"",onClick:e.visualizeNotifications},{default:s(()=>[m(Qe,null,{default:s(()=>[B("Notifica\xE7\xF5es")]),_:1}),e.reversedNotificationsArray.length>0&&e.notificationsVisualized==!1?(v(),I(St,{key:0,color:"red",floating:""},{default:s(()=>[B(D(e.reversedNotificationsArray.length),1)]),_:1})):P("",!0),m(it,{offset:[0,20],style:{width:"25vw","max-height":"500px"}},{default:s(()=>[m(ot,{bordered:"",class:"rounded-borders"},{default:s(()=>[m(Se,{header:"",class:W(["text-bold",e.isDarkActive?"text-white":""])},{default:s(()=>[B("Notifica\xE7\xF5es")]),_:1},8,["class"]),e.reversedNotificationsArray.length>0?(v(),R("div",Dt,[(v(!0),R(De,null,Pe(e.reversedNotificationsArray,(o,r)=>(v(),R("div",{key:o.id},[Le((v(),I(Ee,{clickable:""},{default:s(()=>[m(U,{avatar:""},{default:s(()=>[A("div",Pt,[m(fe,{color:e.isDarkActive?"white":"dark","text-color":e.isDarkActive?"dark":"white"},{default:s(()=>[B("S")]),_:1},8,["color","text-color"]),A("div",Ht,D(o.sent_by),1)])]),_:2},1024),m(U,null,{default:s(()=>[m(Se,{lines:"1",class:"text-weight-bold"},{default:s(()=>[B(D(o.title),1)]),_:2},1024),m(Se,{class:"text-weight-light",lines:"4"},{default:s(()=>[B(D(o.message),1)]),_:2},1024)]),_:2},1024),m(xe,{vertical:"",inset:""}),m(U,{side:"",style:{width:"30%"},class:"row"},{default:s(()=>[m(U,{top:"",class:"q-mb-sm"},{default:s(()=>[B(D(e.notificationTimeDisplay(o.created_at.toString())),1)]),_:2},1024),A("div",Tt,[o.button_route?(v(),I(qe,{key:0,class:"full-width",to:o.button_route,color:"primary",dense:""},{default:s(()=>[B(D(o.button_label),1)]),_:2},1032,["to"])):P("",!0)])]),_:2},1024)]),_:2},1024)),[[Re]]),r!==e.notifications.length-1?(v(),I(xe,{key:0})):P("",!0)]))),128))])):(v(),R("div",qt,[m(xe),Le((v(),I(Ee,{clickable:""},{default:s(()=>[m(U,null,{default:s(()=>[m(Se,{class:"text-subtitle1"},{default:s(()=>[B(" Voc\xEA n\xE3o possu\xED nenhuma notifica\xE7\xE3o. ")]),_:1})]),_:1})]),_:1})),[[Re]])]))]),_:1})]),_:1})]),_:1},8,["onClick"])])}var Nt=be(Ot,[["render",Qt]]),zt=ge({name:"NavBar",components:{Notifications:Nt},props:{activeLeft:{type:String,default:"348px"}},setup(){const e=xt(),a=dt(),i=Oe(),t=_e(),n=C(!1),l=i.user.name,o=l.charAt(0);function r(p){e.dark.set(p),t.setDarkMode(p)}te(()=>{n.value=t.dark,r(t.dark)});function u(){i.clearStore(),t.setDarkMode(!1),a.push("/"),ct.create({progress:!0,color:"positive",textColor:"white",icon:"cloud_done",message:"Voc\xEA foi deslogado com sucesso. At\xE9 breve!"})}return{isDarkActive:h(()=>t.isDarkActive),setDarkMode:r,isDarkModeActive:n,logout:u,appStore:t,userStore:i,nameInitials:o,userName:l}}});const Vt={class:"row no-wrap q-pa-md justify-around"},jt={class:"column"},Wt={class:"column items-center"};function Ft(e,a,i,t,n,l){const o=Q("Notifications");return v(),I($t,{reveal:"",elevated:"",class:"bg-dark text-white flex items-center",style:Z([{height:"65px",margin:"10px 10px 0 10px","border-radius":"5px"},{left:e.activeLeft}])},{default:s(()=>[m(Et,null,{default:s(()=>[m(Bt,null,{default:s(()=>[B(" Bem vindo - "+D(e.userStore.user.name)+"! ",1)]),_:1}),m(o),m(Ct,{modelValue:e.isDarkModeActive,"onUpdate:modelValue":[a[0]||(a[0]=r=>e.isDarkModeActive=r),a[1]||(a[1]=r=>e.setDarkMode(e.isDarkModeActive))],"checked-icon":"dark_mode",color:"primary","unchecked-icon":"light_mode"},{default:s(()=>[m(Qe,null,{default:s(()=>[B(D(e.isDarkActive?"Light Mode":"Dark Mode"),1)]),_:1})]),_:1},8,["modelValue"]),m(fe,{class:"cursor-pointer q-ml-md userAvatar"},{default:s(()=>[m(fe,{color:e.isDarkActive?"primary":"white","text-color":e.isDarkActive?"white":"dark",size:"40px",rounded:""},{default:s(()=>[B(D(e.nameInitials),1)]),_:1},8,["color","text-color"]),m(Qe,null,{default:s(()=>[B("Perfil")]),_:1}),m(it,{offset:[0,18],style:{"min-width":"360px"}},{default:s(()=>[A("div",Vt,[A("div",jt,[m(ot,{dark:"",padding:"",style:{width:"180px"}},{default:s(()=>[Le((v(),I(Ee,{clickable:"",to:"/meu-perfil"},{default:s(()=>[m(U,{avatar:""},{default:s(()=>[m(Be,{color:e.isDarkActive?"white":"dark",name:"fa-solid fa-user-circle"},null,8,["color"])]),_:1}),m(U,{class:W(["text-bold",e.isDarkActive?"text-white":"text-dark"])},{default:s(()=>[B(" Perfil ")]),_:1},8,["class"])]),_:1})),[[Re]]),Le((v(),I(Ee,{clickable:"",onClick:a[2]||(a[2]=r=>e.logout())},{default:s(()=>[m(U,{avatar:""},{default:s(()=>[m(Be,{color:e.isDarkActive?"white":"dark",name:"fa-solid fa-arrow-right-from-bracket"},null,8,["color"])]),_:1}),m(U,{class:W(["text-bold",e.isDarkActive?"text-white":"text-dark"])},{default:s(()=>[B(" Sair ")]),_:1},8,["class"])]),_:1})),[[Re]])]),_:1})]),m(xe,{vertical:"",inset:"",class:"q-mx-lg"}),A("div",Wt,[m(fe,{color:e.isDarkActive?"white":"dark","text-color":e.isDarkActive?"dark":"white",size:"72px",rounded:""},{default:s(()=>[B(D(e.nameInitials),1)]),_:1},8,["color","text-color"])])])]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])}var Ut=be(zt,[["render",Ft]]),Yt=re({name:"QBreadcrumbsEl",props:{...vt,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(e,{slots:a}){const{linkTag:i,linkAttrs:t,linkClass:n,navigateOnClick:l}=ft(),o=h(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+n.value:"q-breadcrumbs__el--disable"),...t.value,onClick:l})),r=h(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const u=[];return e.icon!==void 0&&u.push(O(Be,{class:r.value,name:e.icon})),e.label!==void 0&&u.push(e.label),O(i.value,{...o.value},mt(a.default,u))}}});const Kt=["",!0];var Jt=re({name:"QBreadcrumbs",props:{...ht,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:a}){const i=pt(e),t=h(()=>`flex items-center ${i.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),n=h(()=>e.separatorColor?` text-${e.separatorColor}`:""),l=h(()=>` text-${e.activeColor}`);return()=>{const o=gt($e(a.default));if(o.length===0)return;let r=1;const u=[],p=o.filter(d=>d.type!==void 0&&d.type.name==="QBreadcrumbsEl").length,k=a.separator!==void 0?a.separator:()=>e.separator;return o.forEach(d=>{if(d.type!==void 0&&d.type.name==="QBreadcrumbsEl"){const f=r<p,_=d.props!==null&&Kt.includes(d.props.disable),g=(f===!0?"":" q-breadcrumbs--last")+(_!==!0&&f===!0?l.value:"");r++,u.push(O("div",{class:`flex items-center${g}`},[d])),f===!0&&u.push(O("div",{class:"q-breadcrumbs__separator"+n.value},k()))}else u.push(d)}),O("div",{class:"q-breadcrumbs"},[O("div",{class:t.value},u)])}}});const Xt=ge({name:"BreadCrumbs",setup(){const e=_e(),a=et();var i=C();function t(){i.value=a.meta.breadcrumb}return H(a,()=>t()),te(()=>{t()}),{getRoute:t,isDarkActive:h(()=>e.isDarkActive),breadcrumbList:i}}});function Gt(e,a,i,t,n,l){return v(),I(Jt,null,{separator:s(()=>[m(Be,{size:"1.5em",name:"arrow_right"})]),default:s(()=>[(v(!0),R(De,null,Pe(e.breadcrumbList,(o,r)=>(v(),I(Yt,{class:W(e.isDarkActive?"text-white":"text-dark"),key:r,to:o.link,label:o.name,icon:o.icon},null,8,["class","to","label","icon"]))),128))]),_:1})}var Zt=be(Xt,[["render",Gt]]),ea=function(a,i){var t=at(a),n=t.collapsed,l=t.relative,o=t.width,r=t.widthCollapsed,u=t.rtl,p=C(null),k=C(n.value),d=C(null),f=bt({item:null,rect:{top:0,height:0,padding:"",maxHeight:0,maxWidth:0},timeout:null}),_=h(function(){return f.item}),g=h(function(){return f.rect}),b=C(window.location.pathname+window.location.search+window.location.hash),w=function(M){k.value=M},S=function(M){d.value=M},c=function(M){var F=M.item,se=M.itemEl;N();var X=se.children[0],G=X.getBoundingClientRect(),z=G.top,ue=G.bottom,V=G.height,ye=p.value.getBoundingClientRect(),j=ye.left,He=ye.right,Te=X.offsetParent.getBoundingClientRect().top,ke=window.innerHeight,q=window.innerWidth,we=0,de=q,Ce=parseInt(o.value)-parseInt(r.value);if(l.value){var x=p.value.parentElement;ke=x.clientHeight,q=x.clientWidth,we=x.getBoundingClientRect().top,de=x.getBoundingClientRect().right}var y=u.value?q-(de-j):de-He;J(F),le({top:z-Te,height:V,padding:window.getComputedStyle(X).paddingRight,maxWidth:y<=Ce?y:Ce,maxHeight:ke-(ue-we)})},L=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:800;if(!!_.value){if(N(),M){J(null);return}f.timeout=setTimeout(function(){J(null)},F)}},N=function(){f.timeout&&clearTimeout(f.timeout)},J=function(M){f.item=M},le=function(M){var F=M.top,se=M.height,X=M.padding,G=M.maxWidth,z=M.maxHeight;f.rect.top=F,f.rect.height=se,f.rect.padding=X,f.rect.maxWidth=G,f.rect.maxHeight=z},ae=function(){var M=window.location.pathname+window.location.search+window.location.hash;b.value=M},ie=function(M,F){i.emit("item-click",M,F)};return $("vsmProps",a),$("getSidebarRef",p),$("getIsCollapsed",k),$("getActiveShow",d),$("getMobileItem",_),$("getMobileItemRect",g),$("getCurrentRoute",b),$("updateIsCollapsed",w),$("updateActiveShow",S),$("setMobileItem",c),$("unsetMobileItem",L),$("clearMobileItemTimeout",N),$("onRouteChange",ae),$("emitItemClick",ie),{getSidebarRef:p,getIsCollapsed:k,getActiveShow:d,getMobileItem:_,getMobileItemRect:g,getCurrentRoute:b,updateIsCollapsed:w,updateActiveShow:S,setMobileItem:c,unsetMobileItem:L,clearMobileItemTimeout:N,updateCurrentRoute:ae,onItemClick:ie}},Ne=function(){return{getSidebarProps:E("vsmProps"),getSidebarRef:E("getSidebarRef"),getIsCollapsed:E("getIsCollapsed"),getActiveShow:E("getActiveShow"),getMobileItem:E("getMobileItem"),getMobileItemRect:E("getMobileItemRect"),getCurrentRoute:E("getCurrentRoute"),updateIsCollapsed:E("updateIsCollapsed"),updateActiveShow:E("updateActiveShow"),setMobileItem:E("setMobileItem"),unsetMobileItem:E("unsetMobileItem"),clearMobileItemTimeout:E("clearMobileItemTimeout"),onRouteChange:E("onRouteChange"),emitItemClick:E("emitItemClick")}};function Ye(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,t)}return i}function ta(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Ye(Object(i),!0).forEach(function(t){aa(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ye(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function Ie(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ie=function(a){return typeof a}:Ie=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ie(e)}function aa(e,a,i){return a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function ia(e,a){var i=e.matched,t=i.length,n=i[t-1],l=a.matched;if(!n||!l.length)return-1;var o=l.findIndex(Je.bind(null,n));if(o>-1)return o;var r=Ke(i[t-2]);return t>1&&Ke(n)===r&&l[l.length-1].path!==r?l.findIndex(Je.bind(null,i[t-2])):o}function oa(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(var i in e)if(!ra(e[i],a[i]))return!1;return!0}function na(e,a){var i=function(o){var r=a[o],u=e[o];if(typeof r=="string"){if(r!==u)return{v:!1}}else if(!Array.isArray(u)||u.length!==r.length||r.some(function(p,k){return p!==u[k]}))return{v:!1}};for(var t in a){var n=i(t);if(Ie(n)==="object")return n.v}return!0}function Ke(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function Je(e,a){return(e.aliasOf||e)===(a.aliasOf||a)}function ra(e,a){return Array.isArray(e)?Xe(e,a):Array.isArray(a)?Xe(a,e):e===a}function Xe(e,a){return Array.isArray(a)?e.length===a.length&&e.every(function(i,t){return i===a[t]}):e.length===1&&e[0]===a}function la(e){var a=pe().appContext.config.globalProperties.$router,i=Ne(),t=i.getSidebarProps,n=i.getIsCollapsed,l=i.getActiveShow,o=i.getMobileItem,r=i.getMobileItemRect,u=i.getCurrentRoute,p=i.updateActiveShow,k=i.setMobileItem,d=i.unsetMobileItem,f=i.clearMobileItemTimeout,_=i.emitItemClick,g=E("emitScrollUpdate"),b=C(!1),w=C(!1),S=h(function(){return L(e.item)||N(e.item.child)}),c=h(function(){return L(e.item,!0)}),L=function(y,K){if(!y.href||y.external)return!1;if(a){var ce=a.resolve(y.href),oe=a.currentRoute.value,ve=ia(ce,oe);return K||y.exact?ve>-1&&ve===oe.matched.length-1&&oa(oe.params,ce.params):ve>-1&&na(oe.params,ce.params)}else return y.href===u.value},N=function x(y){return y?y.some(function(K){return L(K)||x(K.child)}):!1},J=function(y){(!e.item.href||e.item.disabled)&&(y.preventDefault(),e.item.disabled)||(M(y,y.currentTarget.parentElement),j.value&&(!e.item.href||S.value)&&(z.value=!z.value),_(y,e.item))},le=function(y){e.item.disabled||(y.stopPropagation(),w.value=!0)},ae=function(y){y.stopPropagation(),w.value=!1},ie=function(y){e.item.disabled||(t.disableHover?q.value&&j.value&&f():(f(),M(y,y.currentTarget)))},T=function(){t.disableHover&&!j.value||q.value&&d(!1,t.disableHover?void 0:300)},M=function(y,K){q.value||n.value&&setTimeout(function(){V.value&&(q.value||k({item:e.item,itemEl:K})),y.type==="click"&&!j.value&&d(!1,V.value?void 0:300)},0)},F=function(y){y.style.height=y.scrollHeight+"px"},se=function(y){y.style.height="auto",n.value||g()},X=function(y){if(n.value&&V.value){y.style.display="none";return}y.style.height=y.scrollHeight+"px"},G=function(){n.value||g()},z=h({get:function(){return j.value?n.value&&V.value?ue.value:t.showChild?!0:t.showOneChild&&V.value?e.item.id===l.value:b.value:!1},set:function(y){t.showOneChild&&V.value&&p(y?e.item.id:null),b.value=y}}),ue=h(function(){return n.value&&V.value?q.value:w.value}),V=h(function(){return e.level===1}),ye=h(function(){return n.value?e.item.hidden&&e.item.hiddenOnCollapse===void 0?!0:e.item.hiddenOnCollapse===!0:e.item.hidden===!0}),j=h(function(){return!!(e.item.child&&e.item.child.length>0)}),He=h(function(){return["vsm--link","vsm--link_level-".concat(e.level),{"vsm--link_mobile":q.value},{"vsm--link_hover":ue.value},{"vsm--link_active":S.value},{"vsm--link_disabled":e.item.disabled},{"vsm--link_open":z.value},e.item.class]}),Te=h(function(){var x=e.item.href?e.item.href:"#",y=e.item.external?"_blank":"_self",K=e.item.disabled?-1:null,ce=c.value?"page":null,oe=j.value?!0:null,ve=j.value?z.value:null;return ta({href:x,target:y,tabindex:K,"aria-current":ce,"aria-haspopup":oe,"aria-expanded":ve},e.item.attributes)}),ke=h(function(){return["vsm--item",{"vsm--item_mobile":q.value}]}),q=h(function(){var x;return e.item.id===((x=o.value)===null||x===void 0?void 0:x.id)}),we=h(function(){return[{position:"absolute"},{top:"".concat(r.value.top+r.value.height,"px")},t.rtl?{right:t.widthCollapsed}:{left:t.widthCollapsed},{width:"".concat(r.value.maxWidth,"px")},{"max-height":"".concat(r.value.maxHeight,"px")},{"overflow-y":"auto"}]}),de=h(function(){return[{position:"absolute"},{top:"".concat(r.value.top,"px")},t.rtl?{right:t.widthCollapsed}:{left:t.widthCollapsed},{width:"".concat(r.value.maxWidth,"px")},{height:"".concat(r.value.height,"px")},{"padding-right":"".concat(r.value.padding)},{"padding-left":"".concat(r.value.padding)},{"z-index":"20"}]}),Ce=h(function(){return[{position:"absolute"},{top:"".concat(r.value.top,"px")},t.rtl?{right:"0px"}:{left:"0px"},{width:"".concat(r.value.maxWidth+parseInt(t.widthCollapsed),"px")},{height:"".concat(r.value.height,"px")},{"z-index":"10"}]});return H(function(){return S.value},function(){S.value&&(z.value=!0)},{immediate:!0}),{active:S,exactActive:c,show:z,hover:ue,isFirstLevel:V,isHidden:ye,hasChild:j,linkClass:He,linkAttrs:Te,itemClass:ke,isMobileItem:q,mobileItemDropdownStyle:we,mobileItemStyle:de,mobileItemBackgroundStyle:Ce,onLinkClick:J,onMouseOver:le,onMouseOut:ae,onMouseEnter:ie,onMouseLeave:T,onExpandEnter:F,onExpandAfterEnter:se,onExpandBeforeLeave:X,onExpandAfterLeave:G}}var ze={name:"SidebarMenuLink",inheritAttrs:!1,props:{item:{type:Object,required:!0}},data(){return{router:!1}},computed:{isHyperLink(){return!!(!this.item.href||this.item.external||!this.router)}},mounted(){this.router=!!this.$router}};const sa=["href","onClick"];function ua(e,a,i,t,n,l){const o=Q("router-link");return l.isHyperLink?(v(),R("a",me(ee({key:0},e.$attrs)),[Y(e.$slots,"default")],16)):(v(),I(o,{key:1,custom:"",to:e.$attrs.href},{default:s(({href:r,navigate:u})=>[A("a",ee(e.$attrs,{href:r,onClick:u}),[Y(e.$slots,"default")],16,sa)]),_:3},8,["to"]))}ze.render=ua;ze.__file="src/components/SidebarMenuLink.vue";var Ve={name:"SidebarMenuIcon",props:{icon:{type:[String,Object],default:""}}};function da(e,a,i,t,n,l){return v(),I(he(i.icon.element?i.icon.element:"i"),ee({class:["vsm--icon",typeof i.icon=="string"||i.icon instanceof String?i.icon:i.icon.class],"aria-hidden":"true"},i.icon.attributes),{default:s(()=>[B(D(i.icon.text),1)]),_:1},16,["class"])}Ve.render=da;Ve.__file="src/components/SidebarMenuIcon.vue";var je={name:"SidebarMenuBadge",props:{badge:{type:Object,default:()=>{}}}};function ca(e,a,i,t,n,l){return v(),I(he(i.badge.element?i.badge.element:"span"),ee({class:["vsm--badge",i.badge.class]},i.badge.attributes),{default:s(()=>[B(D(i.badge.text),1)]),_:1},16,["class"])}je.render=ca;je.__file="src/components/SidebarMenuBadge.vue";var We={name:"SidebarMenuItem",components:{SidebarMenuLink:ze,SidebarMenuIcon:Ve,SidebarMenuBadge:je},props:{item:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const{getSidebarProps:a,getIsCollapsed:i}=Ne(),{linkComponentName:t}=at(a),{active:n,exactActive:l,show:o,hover:r,isFirstLevel:u,isHidden:p,hasChild:k,linkClass:d,linkAttrs:f,itemClass:_,isMobileItem:g,mobileItemStyle:b,mobileItemDropdownStyle:w,mobileItemBackgroundStyle:S,onLinkClick:c,onMouseOver:L,onMouseOut:N,onMouseEnter:J,onMouseLeave:le,onExpandEnter:ae,onExpandAfterEnter:ie,onExpandBeforeLeave:T,onExpandAfterLeave:M}=la(e);return{isCollapsed:i,linkComponentName:t,active:n,exactActive:l,isMobileItem:g,mobileItemStyle:b,mobileItemDropdownStyle:w,mobileItemBackgroundStyle:S,show:o,hover:r,isFirstLevel:u,isHidden:p,hasChild:k,linkClass:d,linkAttrs:f,itemClass:_,onLinkClick:c,onMouseOver:L,onMouseOut:N,onMouseEnter:J,onMouseLeave:le,onExpandEnter:ae,onExpandAfterEnter:ie,onExpandBeforeLeave:T,onExpandAfterLeave:M}}};const va={key:0},fa={class:"vsm--dropdown"};function ma(e,a,i,t,n,l){const o=Q("sidebar-menu-icon"),r=Q("sidebar-menu-badge"),u=Q("sidebar-menu-item",!0);return i.item.component&&!t.isHidden?(v(),R("li",va,[(v(),I(he(i.item.component),me(Me(i.item.props)),null,16))])):i.item.header&&!t.isHidden?(v(),R("li",ee({key:1,class:["vsm--header",i.item.class]},i.item.attributes),D(i.item.header),17)):t.isHidden?P("v-if",!0):(v(),R("li",ee({key:2,class:t.itemClass,onMouseover:a[0]||(a[0]=(...p)=>t.onMouseOver&&t.onMouseOver(...p)),onMouseout:a[1]||(a[1]=(...p)=>t.onMouseOut&&t.onMouseOut(...p))},_t(t.isCollapsed&&t.isFirstLevel?{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}:{},!0)),[(v(),I(he(t.linkComponentName?t.linkComponentName:"SidebarMenuLink"),ee({item:i.item,class:t.linkClass},t.linkAttrs,{onClick:t.onLinkClick}),{default:s(()=>[t.isCollapsed&&t.isFirstLevel?(v(),I(Ae,{key:0,name:"slide-animation"},{default:s(()=>[t.hover?(v(),R("div",{key:0,class:"vsm--mobile-bg",style:Z(t.mobileItemBackgroundStyle)},null,4)):P("v-if",!0)]),_:1})):P("v-if",!0),i.item.icon?(v(),I(o,{key:1,icon:i.item.icon},null,8,["icon"])):P("v-if",!0),A("div",{class:W(["vsm--title",t.isCollapsed&&t.isFirstLevel&&!t.isMobileItem&&"vsm--title_hidden"]),style:Z(t.isMobileItem&&t.mobileItemStyle)},[A("span",null,D(i.item.title),1),i.item.badge?(v(),I(r,{key:0,badge:i.item.badge},null,8,["badge"])):P("v-if",!0),t.hasChild?(v(),R("div",{key:1,class:W(["vsm--arrow",{"vsm--arrow_open":t.show}])},[Y(e.$slots,"dropdown-icon",me(Me({isOpen:t.show})))],2)):P("v-if",!0)],6)]),_:3},16,["item","class","onClick"])),t.hasChild?(v(),I(Ae,{key:0,appear:t.isMobileItem,name:"expand",onEnter:t.onExpandEnter,onAfterEnter:t.onExpandAfterEnter,onBeforeLeave:t.onExpandBeforeLeave,onAfterLeave:t.onExpandAfterLeave},{default:s(()=>[t.show?(v(),R("div",{key:0,class:W(["vsm--child",t.isMobileItem&&"vsm--child_mobile"]),style:Z(t.isMobileItem&&t.mobileItemDropdownStyle)},[A("ul",fa,[(v(!0),R(De,null,Pe(i.item.child,p=>(v(),I(u,{key:p.id,item:p,level:i.level+1},{"dropdown-icon":s(({isOpen:k})=>[Y(e.$slots,"dropdown-icon",me(Me({isOpen:k})))]),_:2},1032,["item","level"]))),128))])],6)):P("v-if",!0)]),_:3},8,["appear","onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])):P("v-if",!0)],16))}We.render=ma;We.__file="src/components/SidebarMenuItem.vue";var Fe={name:"SidebarMenuScroll",setup(){const{getIsCollapsed:e}=Ne(),a=C(null),i=C(null),t=C(null);let n=0,l=!1;const o=()=>{!a.value||yt(()=>{f()})},r=()=>{requestAnimationFrame(o)},u=g=>{const b=Math.abs(i.value.getBoundingClientRect().y-g.clientY),w=t.value.offsetHeight/2;_(b-w)},p=g=>{g.stopImmediatePropagation(),l=!0,window.addEventListener("mousemove",k),window.addEventListener("mouseup",d),n=t.value.offsetHeight-(g.clientY-t.value.getBoundingClientRect().y)},k=g=>{if(!l)return;const b=g.clientY-i.value.getBoundingClientRect().y,w=t.value.offsetHeight-n;_(b-w)},d=g=>{l=!1,n=0,window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",d)},f=()=>{const g=a.value.clientHeight*100/a.value.scrollHeight,b=g<100?g:0,w=a.value.scrollTop*100/a.value.clientHeight||0;t.value.style.height=`${b}%`,t.value.style.transform=`translateY(${w}%)`},_=g=>{const b=g*100/i.value.offsetHeight;a.value.scrollTop=b*a.value.scrollHeight/100};return H(()=>e.value,()=>{o()}),te(()=>{o(),window.addEventListener("resize",o)}),tt(()=>{window.removeEventListener("resize",o)}),$("emitScrollUpdate",o),{scrollRef:a,scrollBarRef:i,scrollThumbRef:t,onScroll:r,onClick:u,onMouseDown:p}}};const ha={class:"vsm--scroll-wrapper"},pa={class:"vsm--scroll-overflow"};function ga(e,a,i,t,n,l){return v(),R("div",ha,[A("div",pa,[A("div",{ref:"scrollRef",class:"vsm--scroll",onScroll:a[0]||(a[0]=(...o)=>t.onScroll&&t.onScroll(...o))},[Y(e.$slots,"default")],544),A("div",{ref:"scrollBarRef",class:"vsm--scroll-bar",onMousedown:a[2]||(a[2]=(...o)=>t.onClick&&t.onClick(...o))},[A("div",{ref:"scrollThumbRef",class:"vsm--scroll-thumb",onMousedown:a[1]||(a[1]=(...o)=>t.onMouseDown&&t.onMouseDown(...o))},null,544)],544)])])}Fe.render=ga;Fe.__file="src/components/SidebarMenuScroll.vue";var Ue={name:"SidebarMenu",components:{SidebarMenuItem:We,SidebarMenuScroll:Fe},props:{menu:{type:Array,required:!0},collapsed:{type:Boolean,default:!1},width:{type:String,default:"290px"},widthCollapsed:{type:String,default:"65px"},showChild:{type:Boolean,default:!1},theme:{type:String,default:""},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},hideToggle:{type:Boolean,default:!1},disableHover:{type:Boolean,default:!1},linkComponentName:{type:String,default:void 0}},emits:{"item-click"(e,a){return!!(e&&a)},"update:collapsed"(e){return typeof e=="boolean"}},setup(e,a){const{getSidebarRef:i,getIsCollapsed:t,updateIsCollapsed:n,unsetMobileItem:l,updateCurrentRoute:o}=ea(e,a),r=h(()=>{let f=0;function _(g){function b(){return`${Date.now()+""+f++}`}return g.map(w=>({id:b(),...w,...w.child&&{child:_(w.child)}}))}return _(e.menu)}),u=h(()=>t.value?e.widthCollapsed:e.width),p=h(()=>[t.value?"vsm_collapsed":"vsm_expanded",e.theme?`vsm_${e.theme}`:"",e.rtl?"vsm_rtl":"",e.relative?"vsm_relative":""]),k=()=>{l(),n(!t.value),a.emit("update:collapsed",t.value)};return H(()=>e.collapsed,f=>{l(),n(f)}),pe().appContext.config.globalProperties.$router||(te(()=>{window.addEventListener("hashchange",o)}),tt(()=>{window.removeEventListener("hashchange",o)})),{sidebarMenuRef:i,isCollapsed:t,computedMenu:r,sidebarWidth:u,sidebarClass:p,onToggleClick:k,onRouteChange:o}}};const ba=A("span",{class:"vsm--arrow_default"},null,-1),_a=A("span",{class:"vsm--toggle-btn_default"},null,-1);function ya(e,a,i,t,n,l){const o=Q("sidebar-menu-item"),r=Q("sidebar-menu-scroll");return v(),R("div",{ref:"sidebarMenuRef",class:W(["v-sidebar-menu",t.sidebarClass]),style:Z({"max-width":t.sidebarWidth})},[Y(e.$slots,"header"),m(r,null,{default:s(()=>[A("ul",{class:"vsm--menu",style:Z({width:t.sidebarWidth})},[(v(!0),R(De,null,Pe(t.computedMenu,u=>(v(),I(o,{key:u.id,item:u},{"dropdown-icon":s(({isOpen:p})=>[Y(e.$slots,"dropdown-icon",me(Me({isOpen:p})),()=>[ba])]),_:2},1032,["item"]))),128))],4)]),_:3}),Y(e.$slots,"footer"),i.hideToggle?P("v-if",!0):(v(),R("button",{key:0,class:"vsm--toggle-btn",onClick:a[0]||(a[0]=(...u)=>t.onToggleClick&&t.onToggleClick(...u))},[Y(e.$slots,"toggle-icon",{},()=>[_a])]))],6)}Ue.render=ya;Ue.__file="src/components/SidebarMenu.vue";var ka=ge({name:"SideBar",components:{SidebarMenu:Ue},setup(e,{emit:a}){const i=_e(),t=Oe(),n=t.user.token,l=C([]),o=C([]),r=C("348px"),u=C(!1),p=C("default"),k=C("30%"),d=C("/imgs/logo-report-dark.svg"),f=C(!1),_=()=>{u.value=!u.value,u.value?(p.value="mobile",k.value="60%",r.value="65px",a("toggle",r.value)):(p.value="default",k.value="30%",r.value="348px",a("toggle",r.value))};async function g(){f.value=!0,await nt.get("/menus",{headers:{Authorization:"Bearer "+n}}).then(w=>{l.value=w.data;const S=t.user.permissions;o.value=l.value.filter(c=>c.visible_to_permissions.some(L=>L.permission===S)),o.value=b(o.value,S)}).finally(()=>{f.value=!1})}function b(w,S){return w.filter(c=>{let L=!1;return c.visible_to_permissions.forEach(N=>{S.includes(N.permission)&&(L=!0)}),c.child&&(c.child=b(c.child,S)),L||c.child})}return te(()=>{g()}),{toggleSidebar:_,activeLeft:r,getMenus:g,menuList:l,filteredMenus:o,activeLogoWidth:k,activeLogoPath:d,activeLogo:p,loadingSidebar:f,isDarkActive:h(()=>i.isDarkActive)}}});const wa={key:0,class:"flex justify-start items-center"},Ca={key:1,class:""},Sa={key:0},Ma=A("i",{class:"fa-solid fa-caret-down"},null,-1),xa=[Ma],Ia={key:1},Aa=A("i",{class:"fa-solid fa-caret-up"},null,-1),La=[Aa],Ra=A("i",{class:"fa-solid fa-bars navIcon"},null,-1);function Ba(e,a,i,t,n,l){const o=Q("sidebar-menu");return v(),I(o,{menu:e.filteredMenus,width:"348px","onUpdate:collapsed":e.toggleSidebar,showOneChild:!0,theme:e.isDarkActive?"default":"white-theme"},{header:s(()=>[A("div",{class:W(["logo-details row justify-center items-center",{dark:e.isDarkActive}])},[e.activeLogo=="default"?(v(),R("div",wa,[A("img",{src:"/imgs/logo-report-dark.svg",alt:"Logo Report",class:W(["logoImage",{dark:e.isDarkActive}]),style:{width:"30%"}},null,2)])):(v(),R("div",Ca,[m(fe,{rounded:"",size:"45px","font-size":"45px",color:e.isDarkActive?"dark":"primary","text-color":"white",icon:"more_vert",class:"mx-auto"},null,8,["color"])]))],2),e.loadingSidebar?(v(),I(It,{key:0,color:"dark",class:"absolute-center",size:"4em"})):P("",!0)]),"dropdown-icon":s(({isOpen:r})=>[r?(v(),R("span",Ia,La)):(v(),R("span",Sa,xa))]),"toggle-icon":s(()=>[Ra]),_:1},8,["menu","onUpdate:collapsed","theme"])}var Ea=be(ka,[["render",Ba]]);const $a=ge({name:"AppLayout",components:{NavBar:Ut,BreadCrumbs:Zt,SideBar:Ea},setup(){const e=_e(),a=Oe(),i=et(),t=C("348px");let n=C();const l=a.user.permissions,o=u=>{t.value=u};function r(){n.value=i.name}return H(i,()=>r()),te(()=>{r()}),{toggleHandler:o,activeLeftPosition:t,isDarkActive:h(()=>e.isDarkActive),routeName:n,userPermission:l}}}),Oa={class:"row q-pt-sm q-pb-xl q-px-xl"},Da={class:"col-12"},Pa={class:"col-12"};function Ha(e,a,i,t,n,l){const o=Q("SideBar"),r=Q("NavBar"),u=Q("BreadCrumbs"),p=Q("router-view");return v(),I(rt,{view:"lHh Lpr lFf"},{default:s(()=>[m(lt,{size:"6px",color:"primary"}),m(o,{onToggle:e.toggleHandler},null,8,["onToggle"]),m(r,{"active-left":e.activeLeftPosition},null,8,["active-left"]),m(st,{style:Z({"padding-left":e.activeLeftPosition})},{default:s(()=>[A("div",Oa,[A("div",Da,[m(u,{class:"q-py-lg"})]),A("div",Pa,[m(p,null,{default:s(({Component:k})=>[m(Ae,{name:"scale-app",mode:"out-in"},{default:s(()=>[(v(),I(he(k)))]),_:2},1024)]),_:1})])]),m(Rt,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:s(()=>[m(qe,{fab:"",icon:"keyboard_arrow_up",color:"primary"})]),_:1})]),_:1},8,["style"])]),_:1})}var Ga=be($a,[["render",Ha],["__scopeId","data-v-3de6be90"]]);export{Ga as default};
